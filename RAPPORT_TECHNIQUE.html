<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapport Technique Détaillé - Portfolio Milann</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px;
            background: #fff;
        }

        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
            margin-bottom: 30px;
        }

        h2 {
            color: #2980b9;
            margin-top: 40px;
            border-left: 5px solid #3498db;
            padding-left: 15px;
        }

        h3 {
            color: #16a085;
            margin-top: 25px;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
        }

        ul {
            background: #f8f9fa;
            padding: 20px 40px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        li {
            margin-bottom: 10px;
        }

        pre {
            background: #2d3436;
            color: #dfe6e9;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            border-left: 5px solid #e74c3c;
        }

        code {
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .note {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            color: #856404;
        }

        .footer {
            margin-top: 60px;
            text-align: center;
            font-size: 0.9em;
            color: #7f8c8d;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }

        @media print {
            body {
                padding: 20px;
            }

            pre {
                white-space: pre-wrap;
                word-wrap: break-word;
                background: #eee;
                color: #000;
                border-left: 2px solid #000;
            }

            h2 {
                border-left: 2px solid #000;
            }
        }
    </style>
</head>

<body>

    <h1>Rapport Technique Détaillé</h1>
    <p><strong>Projet :</strong> Évolution Dynamique du Portfolio</p>
    <p><strong>Date :</strong> 2 Décembre 2025</p>
    <p>Ce document détaille l'ensemble des modifications techniques, l'architecture mise en place et les extraits de
        code clés pour la transformation du portfolio statique en une application web dynamique administrable.</p>

    <h2>1. Architecture & Persistance des Données</h2>
    <p>Pour rendre le site dynamique sans utiliser de base de données serveur (comme MySQL ou MongoDB), nous avons
        utilisé le <strong>LocalStorage</strong> du navigateur. Cela permet de sauvegarder les projets, leur état
        (archivé/phare) et les modifications directement dans le navigateur de l'utilisateur (ou de l'admin).</p>

    <h3>Implémentation technique (<code>admin.js</code> & <code>projets.js</code>)</h3>
    <p>Une fonction utilitaire récupère ou initialise les données. Si le stockage est vide, on charge des projets par
        défaut.</p>
    <pre>
// Récupération des projets depuis le LocalStorage
function getProjectsFromStorage() {
    const storedProjects = localStorage.getItem('projects');
    if (storedProjects) {
        return JSON.parse(storedProjects);
    }
    return defaultProjects; // Retourne les projets hardcodés si vide
}

// Sauvegarde des modifications
function saveProjectsToStorage(projects) {
    localStorage.setItem('projects', JSON.stringify(projects));
}</pre>

    <h2>2. Panel Administrateur Sécurisé</h2>
    <p>Un dossier <code>admin/</code> a été créé pour séparer l'interface de gestion.</p>

    <h3>Authentification (<code>admin/login.html</code>)</h3>
    <p>Un système de login simple vérifie les identifiants et stocke un "token" (booléen) en session.</p>
    <pre>
loginForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    // Vérification des identifiants hardcodés
    if (username === "Milan" && password === "******") {
        localStorage.setItem('isAdmin', 'true'); // Création de la session
        window.location.href = 'dashboard.html'; // Redirection
    } else {
        alert('Identifiants incorrects');
    }
});</pre>

    <h3>Dashboard de Gestion (<code>admin/dashboard.html</code>)</h3>
    <p>Le dashboard permet d'ajouter des projets avec une nouvelle propriété <code>featured</code> (Projet Phare).</p>
    <pre>
// Création de l'objet projet lors de l'ajout
const newProject = {
    id: Date.now(), // ID unique basé sur le timestamp
    title: document.getElementById('title').value,
    // ... autres champs ...
    archived: false, // Par défaut, le projet est visible
    featured: document.getElementById('featured').checked // Case à cocher "Mettre en avant"
};</pre>

    <h2>3. Système d'Archives (Soft Delete)</h2>
    <p>Pour éviter la perte de données, la suppression est "douce". Le projet n'est pas effacé du tableau, mais marqué
        comme <code>archived: true</code>.</p>

    <h3>Logique de filtrage (<code>projets.js</code>)</h3>
    <p>Sur la page publique, on filtre pour ne montrer que les projets non archivés.</p>
    <pre>
// Affichage uniquement des projets actifs
const activeProjects = projects.filter(p => !p.archived);
displayProjects(activeProjects);</pre>

    <h3>Logique de restauration (<code>admin.js</code>)</h3>
    <pre>
window.restoreProject = function(id) {
    let projects = getProjectsFromStorage();
    const project = projects.find(p => p.id === id);
    if (project) {
        project.archived = false; // On le rend visible à nouveau
        saveProjectsToStorage(projects);
        renderAdminProjects();
    }
};</pre>

    <h2>4. Projets Phares & Deep Linking</h2>
    <p>Cette fonctionnalité permet de mettre en avant certains projets sur l'accueil et de créer un lien direct vers
        leurs détails.</p>

    <h3>Carousel Dynamique (<code>scrip.js</code>)</h3>
    <p>Le carousel ne contient plus de HTML statique. Il est généré au chargement de la page en filtrant les projets
        avec <code>featured: true</code>.</p>
    <pre>
// Génération des slides du carousel
const featuredProjects = projects.filter(p => p.featured && !p.archived);

slidesContainer.innerHTML = featuredProjects.map(p => `
    <div class="carousel-slide" 
         onclick="window.location.href='./projets.html?id=${p.id}'" 
         style="cursor: pointer;">
        <img src="${p.image}" alt="${p.title}">
        <div class="slide-content">
            <h3>${p.title}</h3>
        </div>
    </div>
`).join('');</pre>

    <h3>Deep Linking & Auto-Ouverture (<code>projets.js</code>)</h3>
    <p>Lorsqu'on clique sur un projet du carousel, l'URL devient <code>projets.html?id=123</code>. Le script de la page
        Projets détecte ce paramètre et ouvre la modale correspondante.</p>
    <pre>
document.addEventListener('DOMContentLoaded', () => {
    // Analyse de l'URL pour trouver le paramètre ?id=
    const urlParams = new URLSearchParams(window.location.search);
    const projectId = urlParams.get('id');

    if (projectId) {
        const id = Number(projectId);
        // Si l'ID existe, on ouvre automatiquement la modale
        openProjectModal(id);
    }
});</pre>

    <h2>5. Refonte UI & Nettoyage</h2>
    <ul>
        <li><strong>Page Contact :</strong> Création de <code>contact.html</code> et suppression du formulaire sur
            l'accueil pour éviter la redondance.</li>
        <li><strong>Logos Tech :</strong> Suppression des balises <code>&lt;a&gt;</code> autour des logos HTML/CSS/JS
            sur toutes les pages pour les rendre non-cliquables.</li>
        <li><strong>Footer :</strong> Positionnement du bouton "Admin" à l'extrême droite via Flexbox :
            <pre>style="display: flex; justify-content: space-between;"</pre>
        </li>
    </ul>

    <div class="note">
        <strong>Conclusion :</strong> Le site est désormais une application modulaire. L'administrateur a le contrôle
        total sur le contenu (Projets, Archives, Mise en avant) sans jamais toucher au code source, et l'expérience
        utilisateur est fluidifiée grâce au Deep Linking.
    </div>

    <div class="footer">
        <p>Généré par votre Assistant IA - Google DeepMind</p>
    </div>

</body>

</html>